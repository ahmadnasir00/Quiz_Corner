{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Create Quiz</h2>
    <form method="POST">
        <div>
            <label>Quiz Title</label>
            <input type="text" name="title" required>
        </div>
        <div>
            <label>Description</label>
            <textarea name="description"></textarea>
        </div>
        
        <div id="questions-container">
            <div class="question-group" data-question-index="0">
                <h3>Question 1</h3>
                <div>
                    <label>Question Text</label>
                    <input type="text" name="question" required>
                </div>
                <div class="choices-container">
                    <div class="choice-group">
                        <input type="text" name="choices_0" placeholder="Choice 1" required>
                        <input type="radio" name="correct_choice_0" value="0" required>
                        <label>Correct Answer</label>
                    </div>
                    <div class="choice-group">
                        <input type="text" name="choices_0" placeholder="Choice 2" required>
                        <input type="radio" name="correct_choice_0" value="1" required>
                        <label>Correct Answer</label>
                    </div>
                    <div class="choice-group">
                        <input type="text" name="choices_0" placeholder="Choice 3" required>
                        <input type="radio" name="correct_choice_0" value="2" required>
                        <label>Correct Answer</label>
                    </div>
                    <div class="choice-group">
                        <input type="text" name="choices_0" placeholder="Choice 4" required>
                        <input type="radio" name="correct_choice_0" value="3" required>
                        <label>Correct Answer</label>
                    </div>
                </div>
            </div>
        </div>
        
        <button type="button" id="add-question">Add Another Question</button>
        <button type="submit">Create Quiz</button>
    </form>
</div>

<script>
let questionIndex = 1;

document.getElementById('add-question').addEventListener('click', function() {
    const container = document.getElementById('questions-container');
    const newQuestionGroup = document.createElement('div');
    newQuestionGroup.className = 'question-group';
    newQuestionGroup.setAttribute('data-question-index', questionIndex);
    
    newQuestionGroup.innerHTML = `
        <h3>Question ${questionIndex + 1}</h3>
        <div>
            <label>Question Text</label>
            <input type="text" name="question" required>
        </div>
        <div class="choices-container">
            <div class="choice-group">
                <input type="text" name="choices_${questionIndex}" placeholder="Choice 1" required>
                <input type="radio" name="correct_choice_${questionIndex}" value="0" required>
                <label>Correct Answer</label>
            </div>
            <div class="choice-group">
                <input type="text" name="choices_${questionIndex}" placeholder="Choice 2" required>
                <input type="radio" name="correct_choice_${questionIndex}" value="1" required>
                <label>Correct Answer</label>
            </div>
            <div class="choice-group">
                <input type="text" name="choices_${questionIndex}" placeholder="Choice 3" required>
                <input type="radio" name="correct_choice_${questionIndex}" value="2" required>
                <label>Correct Answer</label>
            </div>
            <div class="choice-group">
                <input type="text" name="choices_${questionIndex}" placeholder="Choice 4" required>
                <input type="radio" name="correct_choice_${questionIndex}" value="3" required>
                <label>Correct Answer</label>
            </div>
        </div>
    `;
    
    container.appendChild(newQuestionGroup);
    questionIndex++;
});
</script>

<style>
.question-group {
    margin-bottom: 20px;
    padding: 15px;
    border: 1px solid #ddd;
}

.choice-group {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
}

.choice-group input[type="text"] {
    flex-grow: 1;
    margin-right: 10px;
}
</style>
{% endblock %}